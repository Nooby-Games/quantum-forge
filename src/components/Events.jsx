import React from 'react';
import {WORLD_EVENTS} from '../data/events';
export default function Events(){ function trigger(e){ const key='qf_final_v1'; const raw=localStorage.getItem(key); if(!raw) return alert('Load'); const s=JSON.parse(raw); const choice = e.choices[Math.floor(Math.random()*e.choices.length)]; if(Math.random() < choice.outcome.chance){ s.ore = (s.ore||0) + (choice.outcome.ore||0); s.essence = (s.essence||0) + (choice.outcome.essence||0); localStorage.setItem(key,JSON.stringify(s)); alert('Success: ' + choice.text); location.reload(); } else alert('Failed'); } return (<div className='panel'><h2>Events</h2><div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:8}}>{WORLD_EVENTS.slice(0,200).map(e=>(<div key={e.id} style={{padding:8,background:'rgba(0,0,0,0.12)',borderRadius:8}}><strong>{e.title}</strong><div style={{fontSize:12}}>{e.desc}</div><div style={{marginTop:6}}><button onClick={()=>trigger(e)}>Trigger</button></div></div>))}</div></div>); }