import React from 'react';
import {UPGRADES} from '../data/upgrades';
export default function Shop(){ function buy(u){ const key='qf_final_v1'; const raw=localStorage.getItem(key); if(!raw) return alert('Load'); const s=JSON.parse(raw); const owned = s.upgrades && s.upgrades[u.id] || 0; const cost = Math.floor(u.baseCost * Math.pow(1.12, owned)); if((s.ore||0) < cost) return alert('Not enough ore'); s.ore -= cost; s.upgrades = {...(s.upgrades||{}), [u.id]: owned+1}; if(u.effect.perClickMult) s.perClick = (s.perClick||1) * u.effect.perClickMult; if(u.effect.perSecondAdd) s.perSecond = (s.perSecond||0) + u.effect.perSecondAdd; localStorage.setItem(key, JSON.stringify(s)); alert('Purchased'); location.reload(); } return (<div className='panel'><h2>Shop</h2><div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:8}}>{UPGRADES.slice(0,120).map(u=>(<div key={u.id} style={{padding:8,background:'rgba(255,255,255,0.02)',borderRadius:8}}><strong>{u.name}</strong><div style={{fontSize:12}}>{u.desc}</div><div style={{marginTop:6}}><button onClick={()=>buy(u)}>Buy</button></div></div>))}</div></div>); }