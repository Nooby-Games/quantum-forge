import React from 'react';
import {SKILL_NODES} from '../data/skills';
export default function SkillTree(){ function buy(n){ const key='qf_final_v1'; const raw=localStorage.getItem(key); if(!raw) return alert('Load game'); const s=JSON.parse(raw); if(s.skills && s.skills[n.id]) return alert('Owned'); if(n.prereq && !(s.skills && s.skills[n.prereq])) return alert('Prereq'); if((s.ore||0)<n.cost) return alert('Not enough ore'); s.ore -= n.cost; s.skills = {...(s.skills||{}), [n.id]:true}; s.perClick = (s.perClick||1) + (n.effect.perClickAdd||0); localStorage.setItem(key,JSON.stringify(s)); alert('Bought'); location.reload(); } return (<div className='panel'><h2>Skill Tree</h2><div style={{display:'flex',flexWrap:'wrap',gap:8}}>{SKILL_NODES.slice(0,200).map(n=>(<div key={n.id} className='skill-node' onClick={()=>buy(n)}><strong>{n.name}</strong><div style={{fontSize:12}}>Cost: {n.cost}</div></div>))}</div></div>); }